---
layout: post
title:  OpenWRT å¸¸ç”¨å‘½ä»¤æ•´ç†
subtitle: ğŸ“¡ â€‹â€‹OpenWRT è½¯ä»¶ç®¡ç†å‘½ä»¤å¤§å…¨â€‹â€‹
tags:
    - Linux
---

![ğŸ“¡ â€‹â€‹OpenWRT è½¯ä»¶ç®¡ç†å‘½ä»¤å¤§å…¨â€‹â€‹](https://raw.githubusercontent.com/huijingfei/Blog_Gitalk/refs/heads/main/Images/openwrt.webp)

## ğŸ” æŸ¥æ‰¾è½¯ä»¶åŒ…â€‹â€‹

â€‹â€‹åˆ—å‡ºæ‰€æœ‰å¯ç”¨è½¯ä»¶åŒ…â€‹â€‹ï¼š
```
opkg list
```
â€‹â€‹æŒ‰åç§°æœç´¢è½¯ä»¶â€‹â€‹ï¼ˆå¦‚ luciï¼‰ï¼š
```
opkg list | grep luci
```
â€‹â€‹æŸ¥çœ‹å·²å®‰è£…è½¯ä»¶â€‹â€‹ï¼š
```
opkg list-installed
```
â€‹â€‹æŸ¥æ‰¾è½¯ä»¶ä¾èµ–å…³ç³»â€‹â€‹ï¼ˆå¦‚ wireguardï¼‰ï¼š
```
opkg depends wireguard
```
## â€‹â€‹ğŸ”„ æ›´æ–°è½¯ä»¶åŒ…â€‹â€‹

â€‹â€‹æ›´æ–°è½¯ä»¶æºåˆ—è¡¨â€‹â€‹ï¼ˆå¿…é¡»å…ˆæ‰§è¡Œï¼‰ï¼š
```
opkg update
```
â€‹â€‹å‡çº§æ‰€æœ‰å¯æ›´æ–°è½¯ä»¶â€‹â€‹ï¼š
```
opkg upgrade
```
â€‹â€‹å•ç‹¬å‡çº§æŸä¸ªè½¯ä»¶â€‹â€‹ï¼ˆå¦‚ luci-app-adblockï¼‰ï¼š
```
opkg install luci-app-adblock --force-upgrade
```
â€‹â€‹æ¸…é™¤æ—§ç‰ˆæœ¬ç¼“å­˜â€‹â€‹ï¼š
```
opkg clean
```
## â€‹â€‹ğŸ“Œ å®‰è£…/å¸è½½è½¯ä»¶â€‹â€‹

â€‹â€‹å®‰è£…æ–°è½¯ä»¶â€‹â€‹ï¼ˆå¦‚ tcpdumpï¼‰ï¼š
```
opkg install tcpdump
```
â€‹â€‹å¸è½½è½¯ä»¶â€‹â€‹ï¼ˆå¦‚ firewallï¼‰ï¼š
```
opkg remove firewall
```
â€‹â€‹å¼ºåˆ¶å¸è½½ï¼ˆå¿½ç•¥ä¾èµ–ï¼‰â€‹â€‹ï¼š
```
opkg remove <package> --force-depends
```
## â€‹â€‹âš™ï¸ é«˜çº§æ“ä½œâ€‹â€‹

â€‹â€‹ä»ç‰¹å®šæºå®‰è£…â€‹â€‹ï¼ˆå¦‚æµ‹è¯•ç‰ˆä»“åº“ï¼‰ï¼š
```
opkg install <package> -t testing
```
â€‹â€‹æŸ¥çœ‹è½¯ä»¶è¯¦æƒ…â€‹â€‹ï¼ˆå¦‚ç‰ˆæœ¬ã€æè¿°ï¼‰ï¼š
```
opkg info <package>
```
â€‹â€‹ä¿®å¤æŸåçš„ä¾èµ–â€‹â€‹ï¼š
```
opkg install --force-reinstall <package>
```
## â€‹â€‹ğŸ’¡ å®ç”¨æŠ€å·§â€‹â€‹

â€‹â€‹æ‰¹é‡æ“ä½œâ€‹â€‹ï¼š
```
opkg install package1 package2 package3
```
â€‹â€‹ä¸‹è½½ä½†ä¸å®‰è£…â€‹â€‹ï¼ˆæ‰‹åŠ¨å®‰è£…ï¼‰ï¼š
```
opkg download <package>
```
â€‹â€‹æŸ¥çœ‹å¯ç”¨å­˜å‚¨ç©ºé—´â€‹â€‹ï¼š
```
df -h
```
## âš ï¸ æ³¨æ„äº‹é¡¹â€‹â€‹

â€‹â€‹æ“ä½œå‰å¤‡ä»½â€‹â€‹ï¼š
```
tar -czvf /tmp/backup.tar.gz /etc/config/
```
â€‹â€‹ç©ºé—´ä¸è¶³â€‹â€‹ï¼šå…ˆæ¸…ç†ç¼“å­˜æˆ–æ‰©å±• Overlay åˆ†åŒº

â€‹â€‹å›ºä»¶å…¼å®¹æ€§â€‹â€‹ï¼šç¡®ä¿è½¯ä»¶åŒ…åŒ¹é…ä½ çš„ OpenWRT ç‰ˆæœ¬ï¼ˆå¦‚ 21.02 vs 22.03ï¼‰

ï¼ˆé‡åˆ°é”™è¯¯ï¼Ÿå°è¯•æ·»åŠ  --force-overwrite å‚æ•°è¦†ç›–å†²çªæ–‡ä»¶ï¼ï¼‰
